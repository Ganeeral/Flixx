import React, { useEffect, useState } from "react";
import {
  BurgerIcon,
  BurgerIconMobile,
  HomeAdminIcon,
  LogoutAdminIcon,
  NotificationIcon,
  SettingsAdminIcon,
  UserAdminIcon,
  VideoAdminIcon,
  VideoTestIcon,
} from "@/ui/icons";
import Link from "next/link";
import cn from "classnames";
import { usePathname } from "next/navigation";

interface HeaderAdminProps {
  isOpen: boolean;
  isMobile: boolean;
  toggleSidebar: () => void;
}

const SidebarAdmin: React.FC<HeaderAdminProps> = ({
  isOpen,
  isMobile,
  toggleSidebar,
}) => {
  const pathname = usePathname();

  const data = [
    {
      id: 1,
      icon: HomeAdminIcon,
      href: "/admin/dashboard",
    },
    {
      id: 2,
      icon: VideoTestIcon,
      href: "/admin/dashboard/videos",
    },
    {
      id: 3,
      icon: UserAdminIcon,
      href: "/admin/dashboard/users",
    },
    {
      id: 4,
      icon: SettingsAdminIcon,
      href: "/admin/dashboard/settings",
    },
  ];

  return (
    <>
      <div className="w-[0px] flix:w-[132px] flex h-full">
        <aside
          className={`fixed top-0 flex flex-col justify-between h-[95%] z-50 flex-grow max-w-[132px] items-center bg-blackSide rounded-3xl px-7 py-10 my-6 transition-all ${
            isOpen ? "translate-x-[0%]" : "translate-x-[-200%]"
          }`}
        >
          <div className="flex place-items-center">
            <svg
              className="cursor-pointer"
              onClick={toggleSidebar}
              width="67"
              height="40"
              viewBox="0 0 67 40"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M27.424 0.255184C27.7227 0.724517 27.9787 1.36452 28.192 2.17518C28.448 2.94318 28.576 3.75385 28.576 4.60718C28.576 6.27118 28.2133 7.46585 27.488 8.19118C26.8053 8.87385 25.8667 9.21518 24.672 9.21518H11.232V16.4472H25.248C25.5893 16.9165 25.8667 17.5352 26.08 18.3032C26.336 19.0712 26.464 19.8818 26.464 20.7352C26.464 22.3565 26.1013 23.5299 25.376 24.2552C24.6933 24.9379 23.7547 25.2792 22.56 25.2792H11.36V38.7832C10.8907 38.9112 10.144 39.0392 9.12 39.1672C8.13867 39.2952 7.15733 39.3592 6.176 39.3592C5.19467 39.3592 4.32 39.2739 3.552 39.1032C2.82667 38.9752 2.208 38.7192 1.696 38.3352C1.184 37.9512 0.8 37.4179 0.544 36.7352C0.288 36.0525 0.16 35.1565 0.16 34.0472V6.20718C0.16 4.37252 0.693334 2.92185 1.76 1.85518C2.82667 0.788517 4.27733 0.255184 6.112 0.255184H27.424ZM33.38 37.6352C33.5273 37.6352 33.6877 37.6222 33.861 37.5962C34.043 37.5615 34.1773 37.5182 34.264 37.4662V36.4262L33.328 36.5042C33.0853 36.5215 32.886 36.5735 32.73 36.6602C32.574 36.7469 32.496 36.8769 32.496 37.0502C32.496 37.2235 32.561 37.3665 32.691 37.4792C32.8297 37.5832 33.0593 37.6352 33.38 37.6352ZM33.276 32.5262C33.744 32.5262 34.1687 32.5739 34.55 32.6692C34.94 32.7645 35.2693 32.9119 35.538 33.1112C35.8153 33.3019 36.0277 33.5489 36.175 33.8522C36.3223 34.1469 36.396 34.4979 36.396 34.9052V37.8172C36.396 38.0425 36.331 38.2289 36.201 38.3762C36.0797 38.5149 35.9323 38.6362 35.759 38.7402C35.1957 39.0782 34.4027 39.2472 33.38 39.2472C32.9207 39.2472 32.5047 39.2039 32.132 39.1172C31.768 39.0305 31.4517 38.9005 31.183 38.7272C30.923 38.5539 30.7193 38.3329 30.572 38.0642C30.4333 37.7955 30.364 37.4835 30.364 37.1282C30.364 36.5302 30.5417 36.0709 30.897 35.7502C31.2523 35.4295 31.8027 35.2302 32.548 35.1522L34.251 34.9702V34.8792C34.251 34.6279 34.1383 34.4502 33.913 34.3462C33.6963 34.2335 33.38 34.1772 32.964 34.1772C32.6347 34.1772 32.314 34.2119 32.002 34.2812C31.69 34.3505 31.4083 34.4372 31.157 34.5412C31.0443 34.4632 30.949 34.3462 30.871 34.1902C30.793 34.0255 30.754 33.8565 30.754 33.6832C30.754 33.4579 30.806 33.2802 30.91 33.1502C31.0227 33.0115 31.1917 32.8945 31.417 32.7992C31.6683 32.7039 31.963 32.6345 32.301 32.5912C32.6477 32.5479 32.9727 32.5262 33.276 32.5262ZM37.4743 35.8802C37.4743 35.3082 37.561 34.8142 37.7343 34.3982C37.9076 33.9735 38.146 33.6225 38.4493 33.3452C38.7613 33.0679 39.121 32.8642 39.5283 32.7342C39.9443 32.5955 40.3906 32.5262 40.8673 32.5262C41.0406 32.5262 41.2096 32.5435 41.3743 32.5782C41.539 32.6042 41.6733 32.6389 41.7773 32.6822V30.5762C41.864 30.5502 42.0026 30.5242 42.1933 30.4982C42.384 30.4635 42.579 30.4462 42.7783 30.4462C42.969 30.4462 43.138 30.4592 43.2853 30.4852C43.4413 30.5112 43.5713 30.5632 43.6753 30.6412C43.7793 30.7192 43.8573 30.8275 43.9093 30.9662C43.9613 31.0962 43.9873 31.2695 43.9873 31.4862V37.6482C43.9873 38.0555 43.7966 38.3805 43.4153 38.6232C43.164 38.7879 42.839 38.9309 42.4403 39.0522C42.0416 39.1822 41.5823 39.2472 41.0623 39.2472C40.499 39.2472 39.992 39.1692 39.5413 39.0132C39.0993 38.8572 38.7223 38.6319 38.4103 38.3372C38.107 38.0425 37.873 37.6915 37.7083 37.2842C37.5523 36.8682 37.4743 36.4002 37.4743 35.8802ZM41.1663 34.2552C40.6983 34.2552 40.3386 34.3895 40.0873 34.6582C39.836 34.9269 39.7103 35.3342 39.7103 35.8802C39.7103 36.4175 39.8273 36.8249 40.0613 37.1022C40.2953 37.3709 40.6333 37.5052 41.0753 37.5052C41.2313 37.5052 41.37 37.4835 41.4913 37.4402C41.6213 37.3882 41.721 37.3319 41.7903 37.2712V34.4112C41.617 34.3072 41.409 34.2552 41.1663 34.2552ZM48.3935 32.5262C48.7488 32.5262 49.0955 32.5782 49.4335 32.6822C49.7801 32.7775 50.0791 32.9249 50.3305 33.1242C50.5905 32.9509 50.8808 32.8079 51.2015 32.6952C51.5308 32.5825 51.9251 32.5262 52.3845 32.5262C52.7138 32.5262 53.0345 32.5695 53.3465 32.6562C53.6671 32.7429 53.9488 32.8815 54.1915 33.0722C54.4428 33.2542 54.6421 33.5012 54.7895 33.8132C54.9368 34.1165 55.0105 34.4892 55.0105 34.9312V39.0262C54.9238 39.0522 54.7851 39.0782 54.5945 39.1042C54.4125 39.1302 54.2218 39.1432 54.0225 39.1432C53.8318 39.1432 53.6585 39.1302 53.5025 39.1042C53.3551 39.0782 53.2295 39.0262 53.1255 38.9482C53.0215 38.8702 52.9391 38.7662 52.8785 38.6362C52.8265 38.4975 52.8005 38.3199 52.8005 38.1032V34.9962C52.8005 34.7362 52.7268 34.5499 52.5795 34.4372C52.4321 34.3159 52.2328 34.2552 51.9815 34.2552C51.8601 34.2552 51.7301 34.2855 51.5915 34.3462C51.4528 34.3982 51.3488 34.4545 51.2795 34.5152C51.2881 34.5499 51.2925 34.5845 51.2925 34.6192C51.2925 34.6452 51.2925 34.6712 51.2925 34.6972V39.0262C51.1971 39.0522 51.0541 39.0782 50.8635 39.1042C50.6815 39.1302 50.4951 39.1432 50.3045 39.1432C50.1138 39.1432 49.9405 39.1302 49.7845 39.1042C49.6371 39.0782 49.5115 39.0262 49.4075 38.9482C49.3035 38.8702 49.2211 38.7662 49.1605 38.6362C49.1085 38.4975 49.0825 38.3199 49.0825 38.1032V34.9962C49.0825 34.7362 49.0001 34.5499 48.8355 34.4372C48.6795 34.3159 48.4888 34.2552 48.2635 34.2552C48.1075 34.2552 47.9731 34.2812 47.8605 34.3332C47.7478 34.3765 47.6525 34.4199 47.5745 34.4632V39.0262C47.4878 39.0522 47.3491 39.0782 47.1585 39.1042C46.9765 39.1302 46.7858 39.1432 46.5865 39.1432C46.3958 39.1432 46.2225 39.1302 46.0665 39.1042C45.9191 39.0782 45.7935 39.0262 45.6895 38.9482C45.5855 38.8702 45.5031 38.7662 45.4425 38.6362C45.3905 38.4975 45.3645 38.3199 45.3645 38.1032V34.1772C45.3645 33.9432 45.4121 33.7569 45.5075 33.6182C45.6115 33.4795 45.7501 33.3495 45.9235 33.2282C46.2181 33.0202 46.5821 32.8512 47.0155 32.7212C47.4575 32.5912 47.9168 32.5262 48.3935 32.5262ZM56.3066 30.9662C56.3066 30.6369 56.415 30.3595 56.6316 30.1342C56.857 29.9089 57.1516 29.7962 57.5156 29.7962C57.8796 29.7962 58.17 29.9089 58.3866 30.1342C58.612 30.3595 58.7246 30.6369 58.7246 30.9662C58.7246 31.2955 58.612 31.5729 58.3866 31.7982C58.17 32.0235 57.8796 32.1362 57.5156 32.1362C57.1516 32.1362 56.857 32.0235 56.6316 31.7982C56.415 31.5729 56.3066 31.2955 56.3066 30.9662ZM58.6206 39.0262C58.5253 39.0435 58.3823 39.0652 58.1916 39.0912C58.0096 39.1259 57.8233 39.1432 57.6326 39.1432C57.442 39.1432 57.2686 39.1302 57.1126 39.1042C56.9653 39.0782 56.8396 39.0262 56.7356 38.9482C56.6316 38.8702 56.5493 38.7662 56.4886 38.6362C56.4366 38.4975 56.4106 38.3199 56.4106 38.1032V32.8122C56.506 32.7949 56.6446 32.7732 56.8266 32.7472C57.0173 32.7125 57.208 32.6952 57.3986 32.6952C57.5893 32.6952 57.7583 32.7082 57.9056 32.7342C58.0616 32.7602 58.1916 32.8122 58.2956 32.8902C58.3996 32.9682 58.4776 33.0765 58.5296 33.2152C58.5903 33.3452 58.6206 33.5185 58.6206 33.7352V39.0262ZM64.0316 35.0352C64.0316 34.7665 63.9536 34.5715 63.7976 34.4502C63.6502 34.3202 63.4466 34.2552 63.1866 34.2552C63.0132 34.2552 62.8399 34.2769 62.6666 34.3202C62.5019 34.3635 62.3589 34.4285 62.2376 34.5152V39.0262C62.1509 39.0522 62.0122 39.0782 61.8216 39.1042C61.6396 39.1302 61.4489 39.1432 61.2496 39.1432C61.0589 39.1432 60.8856 39.1302 60.7296 39.1042C60.5822 39.0782 60.4566 39.0262 60.3526 38.9482C60.2486 38.8702 60.1662 38.7662 60.1056 38.6362C60.0536 38.4975 60.0276 38.3199 60.0276 38.1032V34.2032C60.0276 33.9692 60.0752 33.7785 60.1706 33.6312C60.2746 33.4839 60.4132 33.3495 60.5866 33.2282C60.8812 33.0202 61.2496 32.8512 61.6916 32.7212C62.1422 32.5912 62.6406 32.5262 63.1866 32.5262C64.1659 32.5262 64.9199 32.7429 65.4486 33.1762C65.9772 33.6009 66.2416 34.1945 66.2416 34.9572V39.0262C66.1549 39.0522 66.0162 39.0782 65.8256 39.1042C65.6436 39.1302 65.4529 39.1432 65.2536 39.1432C65.0629 39.1432 64.8896 39.1302 64.7336 39.1042C64.5862 39.0782 64.4606 39.0262 64.3566 38.9482C64.2526 38.8702 64.1702 38.7662 64.1096 38.6362C64.0576 38.4975 64.0316 38.3199 64.0316 38.1032V35.0352Z"
                fill="white"
              />
            </svg>
          </div>

          <div className="flex flex-col gap-y-16 items-center">
            {data.map((item) => (
              <Link onClick={toggleSidebar}
               key={item.id} href={item.href}>
                <item.icon
                  className={`stroke-2 ${
                    pathname === item.href ? "activeIcon" : ""
                  }`}
                />
              </Link>
            ))}
          </div>

          <Link href="/">
            <LogoutAdminIcon />
          </Link>
        </aside>
      </div>
    </>
  );
};

export default SidebarAdmin;
